This module exports the official [`groq`](https://github.com/sanity-io/groq) template tag function for writing GROQ queries with syntax highlighting. Make sure to install [the VSCode extension](https://github.com/sanity-io/vscode-sanity) for the best experience.

Both `groq` and `defineQuery` are globally available throughout your project (in server routes and Vue components) via auto-imports.

## `groq`

Use the `groq` template tag to write your GROQ queries:

```vue
<script setup>
// In VS Code this will be highlighted
const query = groq`*[_type == "article"][0].title`
</script>
```

## `defineQuery`

The `defineQuery` function provides an alternative way to define queries using a regular function call instead of a template tag:

```vue
<script setup>
const query = defineQuery(`*[_type == "article"][0].title`)
</script>
```

Both produce identical results. `defineQuery` is particularly useful when working with [type generation](/getting-started/typegen), as the `@sanity/codegen` tool recognizes both patterns when scanning for queries.

## Type Generation

When [type generation](/getting-started/typegen) is enabled, queries written with `groq` or `defineQuery` are automatically discovered and typed. The generated types follow a naming convention based on your query variable name:

```vue
<script setup lang="ts">
// Query variable: articlesQuery -> Generated type: ArticlesQueryResult
const articlesQuery = groq`*[_type == "article"] { title, slug }`

const { data } = await useSanityQuery<ArticlesQueryResult>(articlesQuery)
// data is typed as Ref<{ title: string; slug: { current: string } }[] | null>
</script>
```
